## 先谈前任Http2

>HTTP/2的一个主要特性是使用多路复用（multiplexing），因而它可以通过同一个TCP连接发送多个逻辑数据流。复用使得
很多事情变得更快更好，它带来更好的拥塞控制、更充分的带宽利用、更长久的TCP连接————这些都比以前更好了，链
路能更容易实现全速传输。标头压缩技术也减少了带宽的用量。

```
Q1: http2是怎么实现多路复用的？
Q2: http2多路复用通过什么来区分每一路流？
Q3: http2的拥塞控制？
Q4: 什么是标头压缩？带来的好处是什么？
```

>采用HTTP/2后，浏览器对每个主机一般只需要 一个 TCP连接，而不是以前常见的 六个 连接。事实上，HTTP/2使用的连接
聚合（connection coalescing）和“去分片”（desharding）技术还可以进一步缩减连接数。

```
Q1: 什么是连接聚合？
Q2: 什么是去分片？
Q3: 连接聚合和区分片是怎么缩减连接数的？
Q4: 一般来说Http2需要几个连接？

```

>HTTP/2解决了HTTP的队头拥塞（head of line blocking）问题，客户端必须等待一个请求完成才能发送下一个请求的日子过
去了。

```
Q1: Http2是怎么解决队头拥塞的？
--- 多路复用？一个TCP连接可以承载多个传输数据流（目前学到这，我自己的理解）
```

### TCP队首阻塞
TCP连接的双方，只要有一方数据出现丢包，TCP就会进入等待的状态，丢失的数据包需要被重新传输。

可以把TCP的传输看成一个链式结构。

a,b,c均建立在同一个一个TCP连接上，可以简单用如下方式来表示传输：

```
----------------------------------------------------TCP-----------------------------------------------------
a3->b3->c3->a2->b2->c2->a1->b1->c1
----------------------------------------------------TCP-----------------------------------------------------
当任意一个数据包出现丢失，这里假设c2丢失，那么c2,b2,a2,c3,b3,a3都会继续等待，一直等待到c2重传成功。
```

### Quic解决队首阻塞
Quic在一个连接上建立两个不同的流的时候，他们是相互独立的，也就是说，当一个流出现丢包，是不会影响第二个流的。

```
Q1: 怎么实现的独立？
---  Quic是基于UDP的，UDP是面向数据包的。
```
